<?xml version="1.0" encoding="UTF-8" ?>
<JuPedSim project="JPS-Project" version="0.7" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <header>
        <!-- seed used for initialising random generator -->
        <seed>1254</seed>
        <max_sim_time>10000</max_sim_time>
        <!-- geometry file -->
        <geometry>geometry_1.xml</geometry>
        <!-- trajectories file and format -->
        <trajectories format="plain" fps="8">
            <file location="trajectories-Scenario1_100.xml" />
        </trajectories>
        <logfile>log.txt</logfile>
    </header>
    <!-- traffic information: e.g opend doors -->
    <traffic_constraints>
        <doors>
            <door trans_id="1" state="open" />
            <door trans_id="2" state="open" />
            <door trans_id="3" state="open" />
            <door trans_id="4" state="open" />
            <door trans_id="5" state="open" />
            <door trans_id="6" state="open" />
            <door trans_id="7" state="close" />
            <door trans_id="8" state="open" />
            <door trans_id="9" state="open" />
            <door trans_id="10" state="open" />
            <door trans_id="11" state="open" />
            <door trans_id="12" state="open" />
            <door trans_id="13" state="open" />
            <door trans_id="14" state="open" />
            <door trans_id="15" state="open" />
            <door trans_id="16" state="open" />
            <door trans_id="17" state="open" />
            <door trans_id="18" state="open" />
            <door trans_id="19" state="close" />
            <door trans_id="20" state="open" />
            <door trans_id="21" state="open" />
            <door trans_id="22" state="open" />
            <door trans_id="23" state="open" />
            <door trans_id="24" state="open" />
            <door trans_id="25" state="close" />
            <door trans_id="26" state="open" />
            <door trans_id="27" state="close" />
            <door trans_id="28" state="open" />
            <door trans_id="29" state="open" />
        </doors>
    </traffic_constraints>
    <routing>
        <goals>
            <goal id="0" final="true" caption="Door 23" x_min="30" x_max="31" y_min="10" y_max="11">
                <polygon>
                    <vertex px="30" py="10" />
                    <vertex px="31" py="10" />
                    <vertex px="31" py="11" />
                    <vertex px="30" py="11" />
                    <vertex px="30" py="10" />
                </polygon>
            </goal>
            <goal id="1" final="true" caption="Door 20" x_min="37" x_max="40" y_min="10" y_max="11">
                <polygon>
                    <vertex px="37" py="10" />
                    <vertex px="40" py="10" />
                    <vertex px="40" py="11" />
                    <vertex px="37" py="11" />
                    <vertex px="37" py="10" />
                </polygon>
            </goal>
            <goal id="2" final="true" caption="Door 13" x_min="43.5" x_max="44.5" y_min="10" y_max="11">
                <polygon>
                    <vertex px="43.5" py="10" />
                    <vertex px="44.5" py="10" />
                    <vertex px="44.5" py="11" />
                    <vertex px="43.5" py="11" />
                    <vertex px="43.5" py="10" />
                </polygon>
            </goal>
            <goal id="3" final="true" caption="Door 19" x_min="49.5" x_max="50" y_min="10" y_max="11">
                <polygon>
                    <vertex px="49.5" py="10" />
                    <vertex px="50" py="10" />
                    <vertex px="50" py="11" />
                    <vertex px="49.5" py="11" />
                    <vertex px="49.5" py="10" />
                </polygon>
            </goal>
            <goal id="4" final="true" caption="Door 18" x_min="51.6" x_max="52.5" y_min="10" y_max="11">
                <polygon>
                    <vertex px="51.6" py="10" />
                    <vertex px="52.5" py="10" />
                    <vertex px="52.5" py="11" />
                    <vertex px="51.6" py="11" />
                    <vertex px="51.6" py="10" />
                </polygon>
            </goal>
            <goal id="5" final="true" caption="Door 1" x_min="55" x_max="56" y_min="27" y_max="28.5">
                <polygon>
                    <vertex px="55" py="27" />
                    <vertex px="56" py="27" />
                    <vertex px="56" py="28.5" />
                    <vertex px="55" py="28.5" />
                    <vertex px="55" py="27" />
                </polygon>
            </goal>
            <goal id="6" final="true" caption="Door 27" x_min="30" x_max="32" y_min="38" y_max="39">
                <polygon>
                    <vertex px="30" py="38" />
                    <vertex px="32" py="38" />
                    <vertex px="32" py="39" />
                    <vertex px="30" py="39" />
                    <vertex px="30" py="38" />
                </polygon>
            </goal>
            <goal id="7" final="true" caption="Door 26" x_min="19" x_max="22" y_min="38" y_max="39">
                <polygon>
                    <vertex px="19" py="38" />
                    <vertex px="22" py="38" />
                    <vertex px="22" py="39" />
                    <vertex px="19" py="39" />
                    <vertex px="19" py="38" />
                </polygon>
            </goal>
            <goal id="8" final="true" caption="Door 25" x_min="10" x_max="11" y_min="18" y_max="20">
                <polygon>
                    <vertex px="10" py="18" />
                    <vertex px="11" py="18" />
                    <vertex px="11" py="20" />
                    <vertex px="10" py="20" />
                    <vertex px="10" py="18" />
                </polygon>
            </goal>
            <waiting_area caption="wa1" id="5" waiting_time="20" max_peds="10" is_open="true" room_id="0" subroom_id="1" global_timer="false">
                <polygon>
                    <vertex px="11" py="1" />
                    <vertex px="14" py="1" />
                    <vertex px="14" py="4" />
                    <vertex px="11" py="4" />
                    <vertex px="11" py="1" />
                </polygon>
                <next_wa id="2" p="0.75" />
                <next_wa id="3" p="0.25" />
            </waiting_area>
        </goals>
    </routing>
    <!--persons information and distribution -->
    <agents operational_model_id="3">
        <agents_distribution>
            <group group_id="0" room_id="3" goal_id="7" number="14" agent_parameter_id="2" x_min="11.9" x_max="19" y_min="22.8" y_max="36.5" router_id="1" subroom_id="0" />
            <group group_id="1" room_id="6" goal_id="5" number="3" agent_parameter_id="2" x_min="37.1" x_max="52" y_min="26.18" y_max="28" router_id="1" subroom_id="0" />
            <group group_id="2" room_id="3" goal_id="5" number="14" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="3" room_id="8" goal_id="0" number="6" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="4" room_id="9" goal_id="5" number="2" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="5" room_id="2" goal_id="0" number="2" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="6" room_id="1" goal_id="1" number="4" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="7" room_id="7" goal_id="5" number="5" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="8" room_id="4" goal_id="2" number="2" agent_parameter_id="2" router_id="1" subroom_id="0" />
            <group group_id="9" room_id="0" goal_id="0" number="10" agent_parameter_id="2" x_min="12" x_max="29" y_min="12" y_max="17.5" router_id="1" subroom_id="0" />
            <group group_id="10" room_id="0" goal_id="0" number="10" agent_parameter_id="2" x_min="27.26" x_max="36.42" y_min="12" y_max="25" router_id="1" subroom_id="0" />
            <group group_id="11" room_id="0" goal_id="5" number="10" agent_parameter_id="2" x_min="27.26" x_max="36.42" y_min="25" y_max="37" router_id="1" subroom_id="0" />
            <group group_id="12" room_id="6" goal_id="5" number="2" agent_parameter_id="2" x_min="37.1" x_max="51.03" y_min="20.9" y_max="25.60" router_id="1" subroom_id="0" />
            <group group_id="13" room_id="6" goal_id="5" number="9" agent_parameter_id="2" x_min="37.1" x_max="48.40" y_min="28" y_max="37.15" router_id="1" subroom_id="0" />
            <group group_id="14" room_id="6" goal_id="5" number="5" agent_parameter_id="2" x_min="48.40" x_max="55.17" y_min="28" y_max="37.15" router_id="1" subroom_id="0" />
            <group group_id="15" room_id="6" goal_id="5" number="2" agent_parameter_id="2" x_min="51.53" x_max="55.17" y_min="20.83" y_max="37.15" router_id="1" subroom_id="0" />
        </agents_distribution>
    </agents>
    <!-- These parameters may be overwritten -->
    <operational_models>
        <model operational_model_id="3" description="Tordeux2015">
            <model_parameters>
                <stepsize>0.01</stepsize>
                <exit_crossing_strategy>8</exit_crossing_strategy>
                <delta_h>0.0625</delta_h>
                <wall_avoid_distance>0.2</wall_avoid_distance>
                <use_wall_avoidance>true</use_wall_avoidance>
                <linkedcells enabled="true" cell_size="2.2" />
                <force_ped a="5" D="0.2" />
                <force_wall a="5" D="0.02" />
            </model_parameters>
            <agent_parameters agent_parameter_id="1">
                <v0 mu="1" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="2">
                <v0 mu="1.46" sigma="0.18" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="3">
                <v0 mu="1.7" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="4">
                <v0 mu="2" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="5">
                <v0 mu="2.5" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="6">
                <v0 mu="0.5" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
            <agent_parameters agent_parameter_id="7">
                <v0 mu="0.2" sigma="0.25" />
                <v0_upstairs mu="0.668" sigma="0.167" />
                <v0_downstairs mu="0.750" sigma="0.188" />
                <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
                <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
                <bmax mu="0.15" sigma="0.0" />
                <bmin mu="0.15" sigma="0.0" />
                <amin mu="0.15" sigma="0.0" />
                <atau mu="0." sigma="0.0" />
                <tau mu="0.5" sigma="0.0" />
                <T mu="1.2" sigma="0.0" />
            </agent_parameters>
        </model>
    </operational_models>
    <route_choice_models>
        <router router_id="1" description="ff_global_shortest">
            <parameters />
        </router>
    </route_choice_models>
</JuPedSim>
